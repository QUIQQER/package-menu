{if $this->getAttribute('showTitle') && $this->getAttribute('frontendTitle')}
    <header class="control-header">
        <h1>{$this->getAttribute('frontendTitle')}</h1>
    </header>
{/if}

{if $this->getAttribute('content') != ""}
    <div class="control-body default-content">
        {$this->getAttribute('content')}
    </div>
{/if}

<div class="control-template quiqqer-tabsAdvanced-control">
    {if $navPos == 'top'}
        {include file="`$navFile`"}
    {/if}

    <div class="quiqqer-tabsAdvanced-content quiqqer-tab-content">
        <ul class="quiqqer-tabsAdvanced-content-inner">
            {foreach from=$entries item=entry key=key}
                {if !isset($entry.tabTitle) || !$entry.tabTitle}
                    {continue}
                {/if}

                {* image *}
                {assign var=imgSrc value=false}
                {if isset($entry.entryImage) && $entry.entryImage}
                    {assign var=imgSrc value=$entry.entryImage}
                {/if}

                {* image position *}
                {assign var=imgPos value=left}
                {if isset($entry.entryImagePos) && $entry.entryImagePos}
                    {assign var=imgPos value=$entry.entryImagePos}
                {/if}

                {* content *}
                {assign var=content value=false}
                {if (isset($entry.entryTitle) && $entry.entryTitle) || (isset($entry.entryContent) && $entry.entryContent)}
                    {assign var=content value=true}
                {/if}
                <li class="quiqqer-tabsAdvanced-content-item quiqqer-tab-content-item {if $key == $active - 1}active{/if}"
                    {if $key !== $active - 1}style="display: none;"{/if}
                    role="tabpanel"
                    aria-labelledby="{$instanceId}-tab-{$key}"
                    aria-hidden="{if $key == $active - 1}false{else}true{/if}"
                    tabindex="0"
                    data-entry-content-pos="{$key}"
                    id="{QUI\Utils\Security\Orthos::urlEncodeString($entry.tabTitle)}"
                >
                    <div class="quiqqer-tabsAdvanced-content-itemWrapper {$imgPos} {if !$imgSrc}no-image{/if} {if !$content}no-content{/if}"
                        {if isset($entry.accentColor)}style="--_qui-menu-controls-tabs-accentColor: {$entry.accentColor};"{/if}
                    >
                        {if $imgSrc}
                            <div class="quiqqer-tabsAdvanced-content-image">
                                <div class="quiqqer-tabsAdvanced-content-image-inner">
                                {image src=$imgSrc width=$contentImgMaxWidth}
                                </div>
                            </div>
                        {/if}

                        {if $content}
                            <div class="quiqqer-tabsAdvanced-content-body">
                            <div class="quiqqer-tabsAdvanced-content-body-inner">
                                {if isset($entry.entryTitle) && $entry.entryTitle}
                                    <h2 class="quiqqer-tabsAdvanced-content-title">
                                        {$entry.entryTitle}
                                    </h2>
                                {/if}

                                {if isset($entry.entryContent) && $entry.entryContent}
                                    <div class="quiqqer-tabsAdvanced-content-text default-content">
                                        {$entry.entryContent}
                                    </div>
                                {/if}
                            </div>
                            </div>
                        {/if}
                    </div>
                </li>
            {/foreach}
        </ul>
    </div>

    {if $navPos == 'bottom'}
        {include file="`$navFile`"}
    {/if}

    {if $this->getAttribute('autoPlay.controls')}
        <div class="quiqqer-tabsAdvanced-sliderControl">
            <button class="quiqqer-tabsAdvanced-sliderControl__btn btn btn-secondary btn-secondary-outline btn-outline btn-sm {if $autoPlay}is-playing{else}is-paused{/if}"
                    data-name="btnToggle"
                    aria-label="{if $autoPlay}{locale group="quiqqer/menu" var="frontend.control.tabs.slider.btn.label.pause"}{else}{locale group="quiqqer/menu" var="frontend.control.tabs.slider.btn.label.play"}{/if}"
            >
                <span class="quiqqer-tabsAdvanced-sliderControl__btn-label" data-name="btnToggle-text">
                    {if $autoPlay}{locale group="quiqqer/menu" var="frontend.control.tabs.slider.btn.label.pause"}{else}{locale group="quiqqer/menu" var="frontend.control.tabs.slider.btn.label.play.initial"}{/if}
                </span>
                <i class="fa-solid fa-play icon" aria-hidden="true"></i>
                <i class="fa-solid fa-stop icon" aria-hidden="true"></i>
            </button>
        </div>
    {/if}
</div>
